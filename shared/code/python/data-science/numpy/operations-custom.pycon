>>> def elementwise_function(a, b):
...     if a > b:
...         return a - b
...     else:
...         return a + b
... 

>>> vectorized_function = np.vectorize(elementwise_function)

>>> a, b = np.arange(5), np.arange(5)[::-1]; a, b
(array([0, 1, 2, 3, 4]), array([4, 3, 2, 1, 0]))

>>> vectorized_function(a, 2)
array([2, 3, 4, 1, 2])

>>> vectorized_function(a, b)
array([4, 4, 4, 2, 4])
