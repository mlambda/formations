\begin{frame}
  \frametitle{Utilité}

  \begin{itemize}
  \item décrire des transformations simples sur un dataset entier avec
    des mécanismes adaptés
  \item comprendre les possibilités et les limites de ces
    transformations simples.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Transformation linéaire}

  \begin{itemize}
  \item algèbre linéaire = on se limite aux sommes pondérées des
    inputs.
  \item bonne nouvelle : énorme partie des opérations en machine
    learning
  \end{itemize}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Description des données — échantillon}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      Python :
      \begin{minted}{python}
data = (1, 3)
      \end{minted}
    \end{column}
    \begin{column}{0.5\textwidth}
      Algèbre linéaire : \\[.3cm]

      \( \mathbf{d} = \begin{bmatrix}
        1 \\
        3 \\
      \end{bmatrix}
      \)
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Description des données — dataset}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      Python :
      \begin{minted}{python}
data = [(1, 3),
        (2, 2),
        (4, 2)]
      \end{minted}
    \end{column}
    \begin{column}{0.5\textwidth}
      Algèbre linéaire : \\[.3cm]

      \(
      \mathbf{D} = \begin{bmatrix}
        1 & 2 & 4 \\
        3 & 2 & 2 \\
      \end{bmatrix}
      \)
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Description des transformations linéaires}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      Python :
\begin{minted}{python}
def weights(x, y):
    return x * 2 + y / 2
\end{minted}
    \end{column}
    \begin{column}{0.5\textwidth}
      Algèbre linéaire : \\[.3cm]

      \(
      \mathbf{w} = \begin{bmatrix}
        2 & \frac{1}{2} \\
      \end{bmatrix}
      \)
    \end{column}
  \end{columns}
  \vfill
  Transformation linéaire = somme pondérée.
\end{frame}

\begin{frame}
  \frametitle{Application d'une transformation linéaire à un exemple}

  \V{["linear-algebra", "tw", 0.7] | image}

  Bonne intuition à garder : Verser les colonnes (les exemples du
  dataset) dans les lignes (les opérations).
\end{frame}

\begin{frame}
  \frametitle{Bonne intuition à garder}

  \V{["linear-algebra-run", "tw", 0.7] | image}
  Bonne intuition à garder : Verser les colonnes (les exemples du
  dataset) dans les lignes (les opérations).
\end{frame}

\begin{frame}[fragile]
  \frametitle{Application d'une transformation linéaire à un exemple}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      Python :
\begin{minted}{python}
data = (1, 3)

def weights(x, y):
    return 2 * x + y / 2

res = weights(*data)
\end{minted}
    \end{column}
    \begin{column}{0.5\textwidth}
      Algèbre linéaire : \\[.3cm]

      \(
      \begin{aligned}
        f & = \begin{bmatrix}
          2 & \frac{1}{2} \\
        \end{bmatrix}
        \begin{bmatrix}
          1 \\
          3 \\
        \end{bmatrix} \\
        & = 2 \times 1 + \frac{1}{2} \times 3
      \end{aligned}
      \)
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Application d'une transformation linéaire à un dataset}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      Python :
\begin{minted}{python}
data = [(1, 3),
        (2, 2),
        (4, 2)]

def f(x, y):
    return x * 2 + y / 2

res = [f(x, y)
       for x, y
       in data]
\end{minted}
    \end{column}
    \begin{column}{0.5\textwidth}
      Algèbre linéaire : \\[.3cm]

      \(
      \begin{aligned}
        \text{res} &
        = \begin{bmatrix}
          {\only<2>{\color{blue}}
            \only<3>{\color{green}}
            \only<4>{\color{red}}2} &
          {\only<2>{\color{blue}}
            \only<3>{\color{green}}
            \only<4>{\color{red}}\frac{1}{2}} \\
        \end{bmatrix}
        \begin{bmatrix}
          {\only<2>{\color{blue}}1} & {\only<3>{\color{green}}2} & {\only<4>{\color{red}}4} \\
          {\only<2>{\color{blue}}3} & {\only<3>{\color{green}}2} & {\only<4>{\color{red}}2} \\
        \end{bmatrix} \\
        \onslide<2->{
          & = \begin{bmatrix}
            \onslide<2->{\only<2>{\color{blue}}3,5} &
            \onslide<3->{\only<3>{\color{green}}5} &
            \onslide<4->{\only<4>{\color{red}}9}
            \\
          \end{bmatrix} \\
        }
      \end{aligned}
      \)
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Application de plusieurs transformations linéaires à un dataset}
  \begin{columns}
    \begin{column}{0.5\textwidth}
      Python :
\begin{minted}{python}
data = [(1, 3), (2, 2),
        (4, 2)]

def f(x, y):
    return x * 2 + y / 2

def g(x, y):
    return x / 2 + y * 2

res = [[t(x, y) for x, y
                in data]
       for t in [f, g]]
\end{minted}
    \end{column}
    \begin{column}{0.5\textwidth}
      Algèbre linéaire : \\[.3cm]

      \(
      \begin{aligned}
        \text{res} & = \begin{bmatrix}
            {\only<2>{\color{blue}}
              \only<3>{\color{green}}
              \only<4>{\color{red}}2} &
            {\only<2>{\color{blue}}
              \only<3>{\color{green}}
              \only<4>{\color{red}}\frac{1}{2}} \\
            {\only<5>{\color{blue}}
              \only<6>{\color{green}}
              \only<7>{\color{red}}\frac{1}{2}} &
            {\only<5>{\color{blue}}
              \only<6>{\color{green}}
              \only<7>{\color{red}}2} \\
          \end{bmatrix}
          \begin{bmatrix}
            {\only<2,5>{\color{blue}}1} & {\only<3,6>{\color{green}}2} & {\only<4,7>{\color{red}}4} \\
            {\only<2,5>{\color{blue}}3} & {\only<3,6>{\color{green}}2} & {\only<4,7>{\color{red}}2} \\
          \end{bmatrix} \\
        \onslide<2->{
          & = \begin{bmatrix}
            \onslide<2->{\only<2>{\color{blue}}3,5} &
            \onslide<3->{\only<3>{\color{green}}5} &
            \onslide<4->{\only<4>{\color{red}}9}
            \\
            \onslide<5->{\only<5>{\color{blue}}6,5} &
            \onslide<6->{\only<6>{\color{green}}5} &
            \onslide<7->{\only<7>{\color{red}}6}
            \\
          \end{bmatrix} \\
        }
      \end{aligned}
      \)
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}
  \frametitle{Bonne intuition à garder}

  \V{["linear-algebra", "tw", 1] | image}
\end{frame}

\begin{frame}
  \frametitle{Bonne intuition à garder}

  \V{["linear-algebra-run", "tw", 1] | image}
\end{frame}

\begin{frame}
  \frametitle{Exercice}
  \[
    \begin{bmatrix}
      1 & 2 \\
      2 & 0 \\
    \end{bmatrix}
    \begin{bmatrix}
      0 & 0 & 1 & 1 \\
      0 & 1 & 1 & 0 \\
    \end{bmatrix}
    = \green{?}
  \]
\end{frame}

\begin{frame}
  \frametitle{Exemple de transformation}

  \V{["linear-transformation", "tw", 0.5] | image}
  \[
    \begin{aligned}
      \text{Bleu} & = \text{Transformation} \times \text{Rouge} \\
      & = \begin{bmatrix}
        1 & 2 \\
        2 & 0 \\
      \end{bmatrix}
      \begin{bmatrix}
        0 & 0 & 1 & 1 \\
        0 & 1 & 1 & 0 \\
      \end{bmatrix} \\
      & = \begin{bmatrix}
        0 & 2 & 3 & 1 \\
        0 & 0 & 2 & 2 \\
      \end{bmatrix}
    \end{aligned}
  \]
\end{frame}

\begin{frame}
  \frametitle{Vecteur propre}

  \V{["linear-transformation", "tw", 0.5] | image}

  Vecteur partant de l'origine qui conserve sa direction malgré la transformation.

  \green{Pouvez-vous en trouver un ?} \pause
  $\begin{bmatrix}1 \\0\end{bmatrix}$ par exemple.
\end{frame}

\begin{frame}
  \frametitle{Valeur propre}

  \V{["linear-transformation", "tw", 0.5] | image}

  Facteur par lequel un vecteur propre est redimensionné.

  \green{Quelle est la valeur propre de $\begin{bmatrix}1 \\ 0\end{bmatrix}$ ?} \pause 2.
\end{frame}
